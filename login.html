<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | Sreedhar Chikatla</title>
    <link rel="stylesheet" href="assets/css/login.css">
    <script src="https://alcdn.msauth.net/browser/2.14.1/js/msal-browser.min.js"></script>
</head>
<body>

    <div class="login-container">
        <h2>Login</h2>
        <button type="button" onclick="login()">Login with Microsoft</button>
    </div>

    <script>
        const msalConfig = {
            auth: {
                clientId: '33762961-f423-4b8f-9567-b1a84b0e17a8', // Replace with your Application (client) ID
                authority: 'https://login.microsoftonline.com/a2770e14-8900-416d-97a5-34785586e652', // Replace with your Directory (tenant) ID
                redirectUri: 'http://www.sreedharchikatla.xyz' // Your redirect URI
            }
        };

        const msalInstance = new msal.PublicClientApplication(msalConfig);

        async function login() {
            try {
                const loginResponse = await msalInstance.loginPopup({
                    scopes: ["user.read"]
                });
                console.log("Login successful!", loginResponse);
                // Redirect or handle login success
                window.location.href = "/dashboard.html"; // Change to your post-login page
            } catch (error) {
                console.error(error);
            }
        }
    </script>

</body>
</html>
